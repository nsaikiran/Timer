<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Sai Kiran's Timer</title>
  </head>
  <body>
    <button id="preparation" onclick="startAlarm(this, [1,1,1,1,1,2,2])">Preparation</button>
    <button id="Main" onclick="startAlarm(this, [6])">Main</button>
    <audio id="sound" src="http://soundbible.com/grab.php?id=2154&type=wav">
      This browser doesn't support sound
    </audio>
  </body>
<script lang="text/javascript">
  function startAlarm(element, intervals) {
      document.getElementById(element.id).disabled = true;
      let duration = 0;
      let timeoutIds = [];
      for (let internal_index = 0; internal_index < intervals.length; ++internal_index) {
          duration += intervals[internal_index];
          timeoutIds.push(setTimeout(ring, duration * 1000 * 60, duration));
    }
  }
  function ring(currentLap) {
   console.log("Current Lap", currentLap);
   document.getElementById('sound').play();
  }
</script>
</html>
